<script>
  // or use jade to pass back full object
  setTimeout(function () {
    window.opener.completeFacebookLogin(window.location.href);
  }, 400);
  // iOS Webview (namely Chrome) workaround
  setTimeout(function () {
    window.open('', '_self', '');
    window.close();
  }, 800);
  localStorage.setItem('facebookStatus', window.location.href);
</script>
<p>Redirecting... </p>
<a href="javascript:window.opener.completeFacebookLogin(window.location.href);">close</a>
